<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Edit Event - <%= event.title %></title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/main.css" />
</head>

 <!--Error message from form validation-->
<% if (typeof error !== 'undefined') { %>
  <div class="alert alert-danger"><%= error %></div>
<% } %>

<body class="bg-light">
  <!--Page Banner with navigation-->
  <div class="banner text-center">
    <h1 class="mb-4">Edit Event</h1>
    <a href="/organiser" class="btn btn-primary1 mt-2 ms-2">Back to Home</a>
  </div>

  <div class="container py-5">
    <div class="card shadow p-4">
    
      <!--Creation timestamp display-->
      <p class="text-muted">Event Created At: <%= event.created_at %></p>

      <!--Form for editing and creating-->
      <form method="POST" action="<%= event.id ? '/organiser/events/' + event.id + '/edit' : '/organiser/events/create' %>">
        
        <!--Details of the form-->
        <!--Title-->
        <div class="mb-3">
          <label class="form-label">Title:</label>
          <input type="text" name="title" class="form-control" value="<%= event.title %>" required>
        </div>

        <!--Description-->
        <div class="mb-3">
          <label class="form-label">Description:</label>
          <textarea name="description" class="form-control" rows="3"><%= event.description %></textarea>
        </div>

        <!--Event Date-->
        <div class="row">
          <div class="col-md-6 mb-3">
            <label for="event_date" class="form-label">Event Date:</label>
            <input type="date" id="event_date" name="event_date" class="form-control" value="<%= event.event_date %>" required>
          </div>

          <!--Event Time-->
          <div class="col-md-6 mb-3">
            <label for="event_time" class="form-label">Time:</label>
            <input type="time" id="event_time" name="event_time" class="form-control" value="<%= event.event_time %>" required>
          </div>
        </div>

        <!--Number of Full Price tickets-->
        <div class="row">
          <div class="col-md-6 mb-3">
            <label class="form-label">Total Full Price Tickets :</label>
            <input type="number" name="tickets_full_total" class="form-control" value="<%= event.tickets_full_total %>" required>
          </div>

          <!--Number of Concession Price tickets-->
          <div class="col-md-6 mb-3">
            <label class="form-label">Total Concession Prices Tickets:</label>
            <input type="number" name="tickets_concession_total" class="form-control" value="<%= event.tickets_concession_total %>" required>
          </div>
        </div>

        <!--Price of Full Price tickets-->
        <div class="row">
          <div class="col-md-6 mb-3">
            <label class="form-label">Standard Ticket Price:</label>
            <input type="number" step="0.01" name="price_full" class="form-control" value="<%= event.price_full %>">
          </div>

          <!--Price of Concession Price tickets-->
          <div class="col-md-6 mb-3">
            <label class="form-label">Concession Ticket Price:</label>
            <input type="number" step="0.01" name="price_concession" class="form-control" value="<%= event.price_concession %>">
          </div>
        </div>

        <!--Button for the submit changes-->
        <button type="submit" class="btn btn-primary mt-2">Submit Changes</button>
      </form>
    </div>
  </div>

</body>
</html>
